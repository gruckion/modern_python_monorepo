# AGI Lab – Neural Architecture Experiments (uv + Una + MPS)

This repository is a **uv + Una** based Python monorepo for experimenting with novel neural network architectures on Apple Silicon (M2, MPS backend).

It is designed for:

- Fast iteration on new model architectures (Transformers and beyond)
- Clean separation between reusable libraries and runnable apps
- Reproducible builds via Python wheels
- Local training on MPS with PyTorch

---

## TL;DR

- [`uv`](https://docs.astral.sh/uv/) is the primary way this repo manages Python:
  - dependencies,
  - virtual environments,
  - running commands.
- [`uv` Workspaces](https://docs.astral.sh/uv/concepts/workspaces/) handle the **monorepo** layout.
- [`Una`](https://github.com/carderne/una) sits on top to:
  - keep import/dependency graphs correct between internal packages, and
  - build **wheels** for specific apps in the monorepo (injecting internal + external deps).
- If you only ever ran code in Docker images, `uv` alone could be enough.
- If you want to **package and distribute** individual apps (e.g. training pipeline, CLI, service) as wheels, Una is what makes that practical in a uv monorepo.

---

## 1. Technology stack

- **uv** – dependency management, virtualenvs, task runner (`uv run`, `uv sync`…)
- **Una** – easy monorepos with uv; workspace wiring + app builds
- **Python** – 3.11+ recommended
- **PyTorch** – with MPS backend for Apple Silicon
- **Testing / quality** (typical choices):
  - `pytest` for tests
  - `ruff` for lint + format
  - `mypy` for type checking

---

## 2. Repository layout

The repo is a uv Workspace with Una’s app/lib structure:

```text
.
├── pyproject.toml        # uv workspace root configuration
├── uv.lock               # lockfile generated by uv
├── apps/                 # runnable applications / entrypoints
│   └── <app_name>/
│       ├── pyproject.toml
│       └── src/<app_package>/
│           └── ...
├── libs/                 # reusable libraries (imported by apps)
│   └── <lib_name>/
│       ├── pyproject.toml
│       └── src/<lib_package>/
│           └── ...
└── README.md
